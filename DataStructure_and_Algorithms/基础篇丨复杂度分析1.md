## 如何分析、统计算法的执行效率和资源消耗？

### 1.复杂度分析是什么？
- 复杂度分析是数据结构与算法分析的精髓。
- 数据结构与算法分析解决的是如何更快、更省地存储和处理数据。而复杂度分析方法就是考量效率和资源消耗的方法。
- 20个最基础、最常用的数据结构与算法：
```
10个数据结构：数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie树
10个算法：递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、
```

### 2.当我们在学"数据结构与算法"的时候,我们在学些什么？
- 学习它的“来历”，“自身的特点”，“适合解决的问题”，“实际的应用场景”。
- 避免知识盲点，避免一知半解，想尽一切办法去搞懂课程讲的所有内容。
- 学习知识的过程是反复迭代、不断沉淀的过程。

### 3.为什么需要复杂度分析？
- 来历：事后统计法过于局限。我们需要一个不用具体的测试数据来测试，就可以粗略地估计算法的执行效率的方法。

### 4.大O复杂度表示法(时间复杂度)
- ==所有代码的执行时间T(n)与每行代码的执行次数n成正比==

![avatar](../images/大O复杂度表示法.png)

- T(n)表示代码执行的时间；n表示数据规模的大小；f(n)表示每行代码执行的次数总和；O表示代码执行时间T(n)与f(n)表达式成正比。
- 大O时间复杂度实际上并不具体表示代码真正的执行时间，而是表示代码执行时间随数据规模增长的变化趋势。也叫渐进时间复杂度，简称时间复杂度。
- 当n很大时，公式中的低阶、常量、系数并不左右增长趋势，都可以忽略不计，只需要记录一个最大量级即可。T(n)=O(n)、T(n)=O(n^2)等。

#### 4.1如何分析一段代码的时间复杂度
- a.只关注循环执行次数最多的一段代码
- b.总复杂度等于量级最大的那段代码的复杂度
- c.乘法法则：嵌套代码的复杂度等于嵌套内外代码的乘积

#### 4.2几种常见时间复杂度实例分析

![avatar](../images/时间复杂度量级.jpg)

- 上图中复杂度量级可以分为两类：多项式量级、非多项式量级。其中，非多项式量级只有两个：O(2^n)、O(n!)
- 当n越来越大时，非多项式算法的执行时间会急剧增加，求解问题的执行时间会无限增长。所以，非多项式时间复杂度的算法其实是非常低效的算法。

##### 4.21常见的多项式时间复杂度
- O(1)：常量级时间复杂度的一种表示方法，只要代码的执行时间不随n的增长而增长，这样代码的时间复杂度都记做O(1)。
- O(logn)、O(nlogn)
```java
i = 1;
while(i <= n){
    i = i*2;
}
```
![avatar](../images/对数阶时间复杂度.jpg)
    - 代码执行次数x=log2n,这段代码的时间复杂度O(log2n)。在对数阶时间复杂度的表示方法里，统一忽略对数的底。
    - 如果一段代码的时间复杂度是O(logn)，循环执行n遍，时间复杂度就是O(nlogn)。归并排序、快速排序的时间复杂度都是O(nlogn)。
- O(m+n)、O(m*n)
```java
int cal(int m, int n) {
  int sum_1 = 0;
  int i = 1;
  for (; i < m; ++i) {
    sum_1 = sum_1 + i;
  }

  int sum_2 = 0;
  int j = 1;
  for (; j < n; ++j) {
    sum_2 = sum_2 + j;
  }

  return sum_1 + sum_2;
}
```
    - m和n是表示两个数据规模，我们无法事先评估m和n谁的量级大，所以谁也不能省略掉。上述代码的时间复杂度就是O(m+n)。乘法法则继续有效，T1(m) * T2(n)=O(m * n)

### 5.空间复杂度分析
- 时间复杂度的全称是渐进时间复杂度，表示算法的执行时间与数据规模之间的增长关系。
- 空间复杂度的全称是渐进空间复杂度，表示算法的存储空间与数据规模之间的增长关系。
```java
void print(int n) {
  int i = 0;
  int[] a = new int[n];
  for (i; i <n; ++i) {
    a[i] = i * i;
  }

  for (i = n-1; i >= 0; --i) {
    print out a[i]
  }
}
```
- 第2行申请了一个空间存储变量i，这个是常量阶的，跟数据规模n没有关系。可以忽略不计。第3行申请了一个大小为n的int类型数组。除此之外，剩下的代码都没有占用更多的空间，所以整段代码的空间复杂度为O(n)。
- 常见的空间复杂度就是O(1)、O(n)、O(n^2)，像O(logn)、O(nlogn)这样的对数阶复杂度平时用不到。

### 6.小结
- 复杂度也叫渐进复杂度，包括时间复杂度和空间复杂度。用来分析算法执行效率和数据规模之间的增长关系。可以粗略地表示：越高阶复杂度的算法，执行效率越低。常见的复杂度不多，从低阶到高阶有：O(1)、O(logn)、O(n)、O(nlogn)、O(n^2)。

![avatar](../images/常见复杂度.jpg)

![avatar](../images/数据结构与算法框架图.jpg)
